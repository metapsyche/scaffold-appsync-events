{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nimport setImmediate from '../utils/setImmediate';\n\nvar noStorage = function noStorage() {\n  /* noop */\n  return null;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  noStorage = function noStorage() {\n    console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n    return null;\n  };\n}\n\nfunction _hasStorage(storageType) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(storageType in window)) {\n    return false;\n  }\n\n  try {\n    var storage = window[storageType];\n    var testKey = 'redux-persist ' + storageType + ' test';\n    storage.setItem(testKey, 'test');\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist ' + storageType + ' test failed, persistence will be disabled.');\n    return false;\n  }\n\n  return true;\n}\n\nfunction hasLocalStorage() {\n  return _hasStorage('localStorage');\n}\n\nfunction hasSessionStorage() {\n  return _hasStorage('sessionStorage');\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : {\n      getItem: noStorage,\n      setItem: noStorage,\n      removeItem: noStorage,\n      getAllKeys: noStorage\n    };\n  }\n\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : {\n      getItem: noStorage,\n      setItem: noStorage,\n      removeItem: noStorage,\n      getAllKeys: noStorage\n    };\n  }\n}\n\nexport default function (type, config) {\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n\n          setImmediate(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          setImmediate(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n}","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","setImmediate","noStorage","process","env","NODE_ENV","console","error","_hasStorage","storageType","window","storage","testKey","setItem","getItem","removeItem","e","warn","hasLocalStorage","hasSessionStorage","getStorage","type","localStorage","getAllKeys","sessionStorage","config","cb","Promise","resolve","reject","keys","i","length","push","key","s","string"],"sources":["/Users/roaldmaravillas/ro/github/scaffold-appsync-events/node_modules/redux-persist/es/defaults/asyncLocalStorage.js"],"sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport setImmediate from '../utils/setImmediate';\n\nvar noStorage = function noStorage() {\n  /* noop */return null;\n};\nif (process.env.NODE_ENV !== 'production') {\n  noStorage = function noStorage() {\n    console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n    return null;\n  };\n}\n\nfunction _hasStorage(storageType) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(storageType in window)) {\n    return false;\n  }\n\n  try {\n    var storage = window[storageType];\n    var testKey = 'redux-persist ' + storageType + ' test';\n    storage.setItem(testKey, 'test');\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist ' + storageType + ' test failed, persistence will be disabled.');\n    return false;\n  }\n  return true;\n}\n\nfunction hasLocalStorage() {\n  return _hasStorage('localStorage');\n}\n\nfunction hasSessionStorage() {\n  return _hasStorage('sessionStorage');\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n}\n\nexport default function (type, config) {\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n          setImmediate(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          setImmediate(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}