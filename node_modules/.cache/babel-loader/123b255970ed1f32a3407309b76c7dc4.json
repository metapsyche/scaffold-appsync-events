{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport { GraphQLError } from '../error/GraphQLError';\nimport { visit, visitWithTypeInfo } from '../language/visitor';\nimport { getNamedType } from '../type/definition';\nimport { GraphQLSchema } from '../type/schema';\nimport { TypeInfo } from './TypeInfo';\n/**\n * A validation rule which reports deprecated usages.\n *\n * Returns a list of GraphQLError instances describing each deprecated use.\n */\n\nexport function findDeprecatedUsages(schema, ast) {\n  var errors = [];\n  var typeInfo = new TypeInfo(schema);\n  visit(ast, visitWithTypeInfo(typeInfo, {\n    Field: function Field(node) {\n      var fieldDef = typeInfo.getFieldDef();\n\n      if (fieldDef && fieldDef.isDeprecated) {\n        var parentType = typeInfo.getParentType();\n\n        if (parentType) {\n          var reason = fieldDef.deprecationReason;\n          errors.push(new GraphQLError('The field ' + parentType.name + '.' + fieldDef.name + ' is deprecated.' + (reason ? ' ' + reason : ''), [node]));\n        }\n      }\n    },\n    EnumValue: function EnumValue(node) {\n      var enumVal = typeInfo.getEnumValue();\n\n      if (enumVal && enumVal.isDeprecated) {\n        var type = getNamedType(typeInfo.getInputType());\n\n        if (type) {\n          var reason = enumVal.deprecationReason;\n          errors.push(new GraphQLError('The enum value ' + type.name + '.' + enumVal.name + ' is deprecated.' + (reason ? ' ' + reason : ''), [node]));\n        }\n      }\n    }\n  }));\n  return errors;\n}","map":{"version":3,"names":["GraphQLError","visit","visitWithTypeInfo","getNamedType","GraphQLSchema","TypeInfo","findDeprecatedUsages","schema","ast","errors","typeInfo","Field","node","fieldDef","getFieldDef","isDeprecated","parentType","getParentType","reason","deprecationReason","push","name","EnumValue","enumVal","getEnumValue","type","getInputType"],"sources":["/Users/roaldmaravillas/ro/sandbox/aws-mobile-appsync-events-starter-react/node_modules/aws-appsync/node_modules/graphql/module/utilities/findDeprecatedUsages.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nimport { GraphQLError } from '../error/GraphQLError';\nimport { visit, visitWithTypeInfo } from '../language/visitor';\n\nimport { getNamedType } from '../type/definition';\nimport { GraphQLSchema } from '../type/schema';\nimport { TypeInfo } from './TypeInfo';\n\n/**\n * A validation rule which reports deprecated usages.\n *\n * Returns a list of GraphQLError instances describing each deprecated use.\n */\nexport function findDeprecatedUsages(schema, ast) {\n  var errors = [];\n  var typeInfo = new TypeInfo(schema);\n\n  visit(ast, visitWithTypeInfo(typeInfo, {\n    Field: function Field(node) {\n      var fieldDef = typeInfo.getFieldDef();\n      if (fieldDef && fieldDef.isDeprecated) {\n        var parentType = typeInfo.getParentType();\n        if (parentType) {\n          var reason = fieldDef.deprecationReason;\n          errors.push(new GraphQLError('The field ' + parentType.name + '.' + fieldDef.name + ' is deprecated.' + (reason ? ' ' + reason : ''), [node]));\n        }\n      }\n    },\n    EnumValue: function EnumValue(node) {\n      var enumVal = typeInfo.getEnumValue();\n      if (enumVal && enumVal.isDeprecated) {\n        var type = getNamedType(typeInfo.getInputType());\n        if (type) {\n          var reason = enumVal.deprecationReason;\n          errors.push(new GraphQLError('The enum value ' + type.name + '.' + enumVal.name + ' is deprecated.' + (reason ? ' ' + reason : ''), [node]));\n        }\n      }\n    }\n  }));\n\n  return errors;\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,YAAT,QAA6B,uBAA7B;AACA,SAASC,KAAT,EAAgBC,iBAAhB,QAAyC,qBAAzC;AAEA,SAASC,YAAT,QAA6B,oBAA7B;AACA,SAASC,aAAT,QAA8B,gBAA9B;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,oBAAT,CAA8BC,MAA9B,EAAsCC,GAAtC,EAA2C;EAChD,IAAIC,MAAM,GAAG,EAAb;EACA,IAAIC,QAAQ,GAAG,IAAIL,QAAJ,CAAaE,MAAb,CAAf;EAEAN,KAAK,CAACO,GAAD,EAAMN,iBAAiB,CAACQ,QAAD,EAAW;IACrCC,KAAK,EAAE,SAASA,KAAT,CAAeC,IAAf,EAAqB;MAC1B,IAAIC,QAAQ,GAAGH,QAAQ,CAACI,WAAT,EAAf;;MACA,IAAID,QAAQ,IAAIA,QAAQ,CAACE,YAAzB,EAAuC;QACrC,IAAIC,UAAU,GAAGN,QAAQ,CAACO,aAAT,EAAjB;;QACA,IAAID,UAAJ,EAAgB;UACd,IAAIE,MAAM,GAAGL,QAAQ,CAACM,iBAAtB;UACAV,MAAM,CAACW,IAAP,CAAY,IAAIpB,YAAJ,CAAiB,eAAegB,UAAU,CAACK,IAA1B,GAAiC,GAAjC,GAAuCR,QAAQ,CAACQ,IAAhD,GAAuD,iBAAvD,IAA4EH,MAAM,GAAG,MAAMA,MAAT,GAAkB,EAApG,CAAjB,EAA0H,CAACN,IAAD,CAA1H,CAAZ;QACD;MACF;IACF,CAVoC;IAWrCU,SAAS,EAAE,SAASA,SAAT,CAAmBV,IAAnB,EAAyB;MAClC,IAAIW,OAAO,GAAGb,QAAQ,CAACc,YAAT,EAAd;;MACA,IAAID,OAAO,IAAIA,OAAO,CAACR,YAAvB,EAAqC;QACnC,IAAIU,IAAI,GAAGtB,YAAY,CAACO,QAAQ,CAACgB,YAAT,EAAD,CAAvB;;QACA,IAAID,IAAJ,EAAU;UACR,IAAIP,MAAM,GAAGK,OAAO,CAACJ,iBAArB;UACAV,MAAM,CAACW,IAAP,CAAY,IAAIpB,YAAJ,CAAiB,oBAAoByB,IAAI,CAACJ,IAAzB,GAAgC,GAAhC,GAAsCE,OAAO,CAACF,IAA9C,GAAqD,iBAArD,IAA0EH,MAAM,GAAG,MAAMA,MAAT,GAAkB,EAAlG,CAAjB,EAAwH,CAACN,IAAD,CAAxH,CAAZ;QACD;MACF;IACF;EApBoC,CAAX,CAAvB,CAAL;EAuBA,OAAOH,MAAP;AACD"},"metadata":{},"sourceType":"module"}